{"id":"crhB","dependencies":[{"name":"/Users/hazel/Documents/testJS/line-things-starter/liff-app/package.json","includedInParent":true,"mtime":1552975242498}],"generated":{"js":"var e=\"24301225-cb6e-4b8d-8d39-5aec95acb104\",t=\"E9062E71-9E62-4BC6-B0D3-35CDCD9B027B\",n=\"62FBD229-6EDD-4D1A-B554-5C4E1BB29169\",i=\"E625601E-9E55-4597-A598-76018A0D293D\",c=\"26E2B12B-85F0-4F3F-9FDD-91D114270E6E\",o=!1,r=0;function s(){a(o=!o),D(o),axios.post(\"https://9bc76de2.ngrok.io/unlock\",{userName:window.displayName,userPic:window.pictureUrl}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}function a(e){var t=document.getElementById(\"btn-led-toggle\");t.innerText=e?\"開鎖\":\"鎖門\",e?t.classList.add(\"led-on\"):t.classList.remove(\"led-on\")}function d(){r++,document.getElementById(\"click-count\").innerText=r}function u(e){var t=document.getElementById(\"btn-state\");e?(t.classList.add(\"pressed\"),t.innerText=\"Pressed\"):(t.classList.remove(\"pressed\"),t.innerText=\"Released\")}function l(e){var t=document.getElementById(\"status\"),n=document.getElementById(\"controls\");(t.classList.remove(\"error\"),e)?(f(!1),document.getElementById(\"btn-led-toggle\").addEventListener(\"click\",s),t.classList.remove(\"inactive\"),t.classList.add(\"success\"),t.innerText=\"Device connected\",n.classList.remove(\"hidden\")):(f(!0),t.classList.remove(\"success\"),t.classList.add(\"inactive\"),t.innerText=\"Device disconnected\",n.classList.add(\"hidden\"))}function f(e){var t=document.getElementById(\"loading-animation\");e?t.classList.remove(\"hidden\"):t.classList.add(\"hidden\")}function m(e,t){f(t);var n=document.getElementById(\"status\"),i=document.getElementById(\"controls\");n.classList.remove(\"success\"),n.classList.remove(\"inactive\"),n.classList.add(\"error\"),n.innerText=e,i.classList.add(\"hidden\")}function h(e){return\"Error\\n\"+e.code+\"\\n\"+e.message}function g(){liff.init(function(){return v()},function(e){return m(h(e),!1)})}function v(){liff.initPlugins([\"bluetooth\"]).then(function(){E(function(){return w()})}).catch(function(e){m(h(e),!1)}),liff.getProfile().then(function(e){window.displayName=e.displayName,window.pictureUrl=e.pictureUrl,document.getElementById(\"userPic\").src=window.pictureUrl,document.getElementById(\"userPic\").hidden=!1,document.getElementById(\"userName\").innerHTML=window.displayName}).catch(function(e){console.log(\"error\",e)})}function E(e){liff.bluetooth.getAvailability().then(function(t){t?(l(!1),e()):(m(\"Bluetooth not available\",!0),setTimeout(function(){return E(e)},1e4))}).catch(function(e){m(h(e),!1)})}function w(){liff.bluetooth.requestDevice().then(function(e){y(e)}).catch(function(e){m(h(e),!1)})}function y(t){t.gatt.connect().then(function(){document.getElementById(\"device-name\").innerText=t.name,document.getElementById(\"device-id\").innerText=t.id,l(!0),t.gatt.getPrimaryService(e).then(function(e){B(e)}).catch(function(e){m(h(e),!1)}),t.gatt.getPrimaryService(i).then(function(e){L(e)}).catch(function(e){m(h(e),!1)});t.addEventListener(\"gattserverdisconnected\",function e(){l(!1),t.removeEventListener(\"gattserverdisconnected\",e),o=!1,a(!1),u(!1),v()})}).catch(function(e){m(h(e),!1)})}function B(e){e.getCharacteristic(n).then(function(e){p(e)}).catch(function(e){m(h(e),!1)}),e.getCharacteristic(t).then(function(e){window.ledCharacteristic=e,D(!1)}).catch(function(e){m(h(e),!1)})}function L(e){e.getCharacteristic(c).then(function(e){return e.readValue()}).then(function(e){var t=new Uint8Array(e.buffer).reduce(function(e,t){return e+(\"0\"+t.toString(16)).slice(-2)},\"\");document.getElementById(\"device-psdi\").innerText=t}).catch(function(e){m(h(e),!1)})}function p(e){e.startNotifications().then(function(){e.addEventListener(\"characteristicvaluechanged\",function(e){new Uint8Array(e.target.value.buffer)[0]>0?u(!0):(u(!1),d())})}).catch(function(e){m(h(e),!1)})}function D(e){window.ledCharacteristic.writeValue(e?new Uint8Array([1]):new Uint8Array([0])).catch(function(e){m(h(e),!1)})}window.onload=function(){g(),window.displayName=\"\",window.pictureUrl=\"\"};"},"sourceMaps":{"js":{"mappings":[{"source":"liff.js","original":{"line":2,"column":0},"generated":{"line":1,"column":0}},{"source":"liff.js","name":"USER_SERVICE_UUID","original":{"line":2,"column":6},"generated":{"line":1,"column":4}},{"source":"liff.js","original":{"line":2,"column":0},"generated":{"line":1,"column":6}},{"source":"liff.js","name":"LED_CHARACTERISTIC_UUID","original":{"line":4,"column":6},"generated":{"line":1,"column":45}},{"source":"liff.js","original":{"line":4,"column":34},"generated":{"line":1,"column":47}},{"source":"liff.js","name":"BTN_CHARACTERISTIC_UUID","original":{"line":5,"column":6},"generated":{"line":1,"column":86}},{"source":"liff.js","original":{"line":5,"column":34},"generated":{"line":1,"column":88}},{"source":"liff.js","name":"PSDI_SERVICE_UUID","original":{"line":8,"column":6},"generated":{"line":1,"column":127}},{"source":"liff.js","original":{"line":8,"column":34},"generated":{"line":1,"column":129}},{"source":"liff.js","name":"PSDI_CHARACTERISTIC_UUID","original":{"line":9,"column":6},"generated":{"line":1,"column":168}},{"source":"liff.js","original":{"line":9,"column":34},"generated":{"line":1,"column":170}},{"source":"liff.js","name":"ledState","original":{"line":12,"column":4},"generated":{"line":1,"column":209}},{"source":"liff.js","original":{"line":12,"column":15},"generated":{"line":1,"column":212}},{"source":"liff.js","name":"clickCount","original":{"line":13,"column":4},"generated":{"line":1,"column":214}},{"source":"liff.js","original":{"line":13,"column":17},"generated":{"line":1,"column":216}},{"source":"liff.js","original":{"line":29,"column":0},"generated":{"line":1,"column":218}},{"source":"liff.js","name":"handlerToggleLed","original":{"line":29,"column":9},"generated":{"line":1,"column":227}},{"source":"liff.js","name":"uiToggleLedButton","original":{"line":32,"column":4},"generated":{"line":1,"column":231}},{"source":"liff.js","name":"ledState","original":{"line":30,"column":4},"generated":{"line":1,"column":233}},{"source":"liff.js","name":"ledState","original":{"line":30,"column":16},"generated":{"line":1,"column":236}},{"source":"liff.js","name":"liffToggleDeviceLedState","original":{"line":33,"column":4},"generated":{"line":1,"column":239}},{"source":"liff.js","name":"ledState","original":{"line":33,"column":29},"generated":{"line":1,"column":241}},{"source":"liff.js","name":"axios","original":{"line":34,"column":4},"generated":{"line":1,"column":244}},{"source":"liff.js","name":"post","original":{"line":34,"column":10},"generated":{"line":1,"column":250}},{"source":"liff.js","original":{"line":34,"column":39},"generated":{"line":1,"column":255}},{"source":"liff.js","original":{"line":34,"column":39},"generated":{"line":1,"column":290}},{"source":"liff.js","name":"userName","original":{"line":35,"column":10},"generated":{"line":1,"column":291}},{"source":"liff.js","name":"window","original":{"line":35,"column":20},"generated":{"line":1,"column":300}},{"source":"liff.js","name":"displayName","original":{"line":35,"column":27},"generated":{"line":1,"column":307}},{"source":"liff.js","name":"userPic","original":{"line":36,"column":10},"generated":{"line":1,"column":319}},{"source":"liff.js","name":"window","original":{"line":36,"column":19},"generated":{"line":1,"column":327}},{"source":"liff.js","name":"pictureUrl","original":{"line":36,"column":26},"generated":{"line":1,"column":334}},{"source":"liff.js","name":"then","original":{"line":37,"column":11},"generated":{"line":1,"column":347}},{"source":"liff.js","original":{"line":37,"column":16},"generated":{"line":1,"column":352}},{"source":"liff.js","name":"response","original":{"line":37,"column":26},"generated":{"line":1,"column":361}},{"source":"liff.js","name":"console","original":{"line":38,"column":10},"generated":{"line":1,"column":364}},{"source":"liff.js","name":"log","original":{"line":38,"column":18},"generated":{"line":1,"column":372}},{"source":"liff.js","name":"response","original":{"line":38,"column":22},"generated":{"line":1,"column":376}},{"source":"liff.js","name":"catch","original":{"line":39,"column":11},"generated":{"line":1,"column":381}},{"source":"liff.js","original":{"line":39,"column":17},"generated":{"line":1,"column":387}},{"source":"liff.js","name":"error","original":{"line":39,"column":27},"generated":{"line":1,"column":396}},{"source":"liff.js","name":"console","original":{"line":40,"column":10},"generated":{"line":1,"column":399}},{"source":"liff.js","name":"log","original":{"line":40,"column":18},"generated":{"line":1,"column":407}},{"source":"liff.js","name":"error","original":{"line":40,"column":22},"generated":{"line":1,"column":411}},{"source":"liff.js","original":{"line":48,"column":0},"generated":{"line":1,"column":416}},{"source":"liff.js","name":"uiToggleLedButton","original":{"line":48,"column":9},"generated":{"line":1,"column":425}},{"source":"liff.js","name":"state","original":{"line":48,"column":27},"generated":{"line":1,"column":427}},{"source":"liff.js","name":"el","original":{"line":49,"column":10},"generated":{"line":1,"column":430}},{"source":"liff.js","name":"el","original":{"line":49,"column":10},"generated":{"line":1,"column":434}},{"source":"liff.js","name":"document","original":{"line":49,"column":15},"generated":{"line":1,"column":436}},{"source":"liff.js","name":"getElementById","original":{"line":49,"column":24},"generated":{"line":1,"column":445}},{"source":"liff.js","original":{"line":49,"column":39},"generated":{"line":1,"column":460}},{"source":"liff.js","name":"el","original":{"line":50,"column":4},"generated":{"line":1,"column":478}},{"source":"liff.js","name":"innerText","original":{"line":50,"column":7},"generated":{"line":1,"column":480}},{"source":"liff.js","name":"state","original":{"line":50,"column":19},"generated":{"line":1,"column":490}},{"source":"liff.js","original":{"line":50,"column":27},"generated":{"line":1,"column":492}},{"source":"liff.js","original":{"line":50,"column":34},"generated":{"line":1,"column":497}},{"source":"liff.js","name":"state","original":{"line":52,"column":8},"generated":{"line":1,"column":502}},{"source":"liff.js","name":"el","original":{"line":53,"column":6},"generated":{"line":1,"column":504}},{"source":"liff.js","name":"classList","original":{"line":53,"column":9},"generated":{"line":1,"column":506}},{"source":"liff.js","name":"add","original":{"line":53,"column":19},"generated":{"line":1,"column":516}},{"source":"liff.js","original":{"line":53,"column":23},"generated":{"line":1,"column":520}},{"source":"liff.js","name":"el","original":{"line":55,"column":6},"generated":{"line":1,"column":530}},{"source":"liff.js","name":"classList","original":{"line":55,"column":9},"generated":{"line":1,"column":532}},{"source":"liff.js","name":"remove","original":{"line":55,"column":19},"generated":{"line":1,"column":542}},{"source":"liff.js","original":{"line":55,"column":26},"generated":{"line":1,"column":549}},{"source":"liff.js","original":{"line":59,"column":0},"generated":{"line":1,"column":559}},{"source":"liff.js","name":"uiCountPressButton","original":{"line":59,"column":9},"generated":{"line":1,"column":568}},{"source":"liff.js","name":"clickCount","original":{"line":60,"column":4},"generated":{"line":1,"column":572}},{"source":"liff.js","name":"document","original":{"line":62,"column":15},"generated":{"line":1,"column":576}},{"source":"liff.js","name":"getElementById","original":{"line":62,"column":24},"generated":{"line":1,"column":585}},{"source":"liff.js","original":{"line":62,"column":39},"generated":{"line":1,"column":600}},{"source":"liff.js","name":"innerText","original":{"line":63,"column":7},"generated":{"line":1,"column":615}},{"source":"liff.js","name":"clickCount","original":{"line":63,"column":19},"generated":{"line":1,"column":625}},{"source":"liff.js","original":{"line":66,"column":0},"generated":{"line":1,"column":627}},{"source":"liff.js","name":"uiToggleStateButton","original":{"line":66,"column":9},"generated":{"line":1,"column":636}},{"source":"liff.js","name":"pressed","original":{"line":66,"column":29},"generated":{"line":1,"column":638}},{"source":"liff.js","name":"el","original":{"line":67,"column":10},"generated":{"line":1,"column":641}},{"source":"liff.js","name":"el","original":{"line":67,"column":10},"generated":{"line":1,"column":645}},{"source":"liff.js","name":"document","original":{"line":67,"column":15},"generated":{"line":1,"column":647}},{"source":"liff.js","name":"getElementById","original":{"line":67,"column":24},"generated":{"line":1,"column":656}},{"source":"liff.js","original":{"line":67,"column":39},"generated":{"line":1,"column":671}},{"source":"liff.js","name":"pressed","original":{"line":69,"column":8},"generated":{"line":1,"column":684}},{"source":"liff.js","name":"el","original":{"line":70,"column":8},"generated":{"line":1,"column":687}},{"source":"liff.js","name":"classList","original":{"line":70,"column":11},"generated":{"line":1,"column":689}},{"source":"liff.js","name":"add","original":{"line":70,"column":21},"generated":{"line":1,"column":699}},{"source":"liff.js","original":{"line":70,"column":25},"generated":{"line":1,"column":703}},{"source":"liff.js","name":"el","original":{"line":71,"column":8},"generated":{"line":1,"column":714}},{"source":"liff.js","name":"innerText","original":{"line":71,"column":11},"generated":{"line":1,"column":716}},{"source":"liff.js","original":{"line":71,"column":23},"generated":{"line":1,"column":726}},{"source":"liff.js","name":"el","original":{"line":73,"column":8},"generated":{"line":1,"column":738}},{"source":"liff.js","name":"classList","original":{"line":73,"column":11},"generated":{"line":1,"column":740}},{"source":"liff.js","name":"remove","original":{"line":73,"column":21},"generated":{"line":1,"column":750}},{"source":"liff.js","original":{"line":73,"column":28},"generated":{"line":1,"column":757}},{"source":"liff.js","name":"el","original":{"line":74,"column":8},"generated":{"line":1,"column":768}},{"source":"liff.js","name":"innerText","original":{"line":74,"column":11},"generated":{"line":1,"column":770}},{"source":"liff.js","original":{"line":74,"column":23},"generated":{"line":1,"column":780}},{"source":"liff.js","original":{"line":78,"column":0},"generated":{"line":1,"column":792}},{"source":"liff.js","name":"uiToggleDeviceConnected","original":{"line":78,"column":9},"generated":{"line":1,"column":801}},{"source":"liff.js","name":"connected","original":{"line":78,"column":33},"generated":{"line":1,"column":803}},{"source":"liff.js","name":"elStatus","original":{"line":79,"column":10},"generated":{"line":1,"column":806}},{"source":"liff.js","name":"elStatus","original":{"line":79,"column":10},"generated":{"line":1,"column":810}},{"source":"liff.js","name":"document","original":{"line":79,"column":21},"generated":{"line":1,"column":812}},{"source":"liff.js","name":"getElementById","original":{"line":79,"column":30},"generated":{"line":1,"column":821}},{"source":"liff.js","original":{"line":79,"column":45},"generated":{"line":1,"column":836}},{"source":"liff.js","name":"elControls","original":{"line":80,"column":10},"generated":{"line":1,"column":846}},{"source":"liff.js","name":"document","original":{"line":80,"column":23},"generated":{"line":1,"column":848}},{"source":"liff.js","name":"getElementById","original":{"line":80,"column":32},"generated":{"line":1,"column":857}},{"source":"liff.js","original":{"line":80,"column":47},"generated":{"line":1,"column":872}},{"source":"liff.js","name":"elStatus","original":{"line":82,"column":4},"generated":{"line":1,"column":885}},{"source":"liff.js","name":"classList","original":{"line":82,"column":13},"generated":{"line":1,"column":887}},{"source":"liff.js","name":"remove","original":{"line":82,"column":23},"generated":{"line":1,"column":897}},{"source":"liff.js","original":{"line":82,"column":30},"generated":{"line":1,"column":904}},{"source":"liff.js","name":"connected","original":{"line":84,"column":8},"generated":{"line":1,"column":913}},{"source":"liff.js","name":"uiToggleLoadingAnimation","original":{"line":86,"column":8},"generated":{"line":1,"column":917}},{"source":"liff.js","original":{"line":86,"column":33},"generated":{"line":1,"column":920}},{"source":"liff.js","name":"document","original":{"line":87,"column":24},"generated":{"line":1,"column":923}},{"source":"liff.js","name":"getElementById","original":{"line":87,"column":33},"generated":{"line":1,"column":932}},{"source":"liff.js","original":{"line":87,"column":48},"generated":{"line":1,"column":947}},{"source":"liff.js","name":"addEventListener","original":{"line":88,"column":16},"generated":{"line":1,"column":965}},{"source":"liff.js","original":{"line":88,"column":33},"generated":{"line":1,"column":982}},{"source":"liff.js","name":"handlerToggleLed","original":{"line":88,"column":42},"generated":{"line":1,"column":990}},{"source":"liff.js","name":"elStatus","original":{"line":90,"column":8},"generated":{"line":1,"column":993}},{"source":"liff.js","name":"classList","original":{"line":90,"column":17},"generated":{"line":1,"column":995}},{"source":"liff.js","name":"remove","original":{"line":90,"column":27},"generated":{"line":1,"column":1005}},{"source":"liff.js","original":{"line":90,"column":34},"generated":{"line":1,"column":1012}},{"source":"liff.js","name":"elStatus","original":{"line":91,"column":8},"generated":{"line":1,"column":1024}},{"source":"liff.js","name":"classList","original":{"line":91,"column":17},"generated":{"line":1,"column":1026}},{"source":"liff.js","name":"add","original":{"line":91,"column":27},"generated":{"line":1,"column":1036}},{"source":"liff.js","original":{"line":91,"column":31},"generated":{"line":1,"column":1040}},{"source":"liff.js","name":"elStatus","original":{"line":92,"column":8},"generated":{"line":1,"column":1051}},{"source":"liff.js","name":"innerText","original":{"line":92,"column":17},"generated":{"line":1,"column":1053}},{"source":"liff.js","original":{"line":92,"column":29},"generated":{"line":1,"column":1063}},{"source":"liff.js","name":"elControls","original":{"line":94,"column":8},"generated":{"line":1,"column":1082}},{"source":"liff.js","name":"classList","original":{"line":94,"column":19},"generated":{"line":1,"column":1084}},{"source":"liff.js","name":"remove","original":{"line":94,"column":29},"generated":{"line":1,"column":1094}},{"source":"liff.js","original":{"line":94,"column":36},"generated":{"line":1,"column":1101}},{"source":"liff.js","name":"uiToggleLoadingAnimation","original":{"line":97,"column":8},"generated":{"line":1,"column":1113}},{"source":"liff.js","original":{"line":97,"column":33},"generated":{"line":1,"column":1116}},{"source":"liff.js","name":"elStatus","original":{"line":99,"column":8},"generated":{"line":1,"column":1119}},{"source":"liff.js","name":"classList","original":{"line":99,"column":17},"generated":{"line":1,"column":1121}},{"source":"liff.js","name":"remove","original":{"line":99,"column":27},"generated":{"line":1,"column":1131}},{"source":"liff.js","original":{"line":99,"column":34},"generated":{"line":1,"column":1138}},{"source":"liff.js","name":"elStatus","original":{"line":100,"column":8},"generated":{"line":1,"column":1149}},{"source":"liff.js","name":"classList","original":{"line":100,"column":17},"generated":{"line":1,"column":1151}},{"source":"liff.js","name":"add","original":{"line":100,"column":27},"generated":{"line":1,"column":1161}},{"source":"liff.js","original":{"line":100,"column":31},"generated":{"line":1,"column":1165}},{"source":"liff.js","name":"elStatus","original":{"line":101,"column":8},"generated":{"line":1,"column":1177}},{"source":"liff.js","name":"innerText","original":{"line":101,"column":17},"generated":{"line":1,"column":1179}},{"source":"liff.js","original":{"line":101,"column":29},"generated":{"line":1,"column":1189}},{"source":"liff.js","name":"elControls","original":{"line":103,"column":8},"generated":{"line":1,"column":1211}},{"source":"liff.js","name":"classList","original":{"line":103,"column":19},"generated":{"line":1,"column":1213}},{"source":"liff.js","name":"add","original":{"line":103,"column":29},"generated":{"line":1,"column":1223}},{"source":"liff.js","original":{"line":103,"column":33},"generated":{"line":1,"column":1227}},{"source":"liff.js","original":{"line":107,"column":0},"generated":{"line":1,"column":1238}},{"source":"liff.js","name":"uiToggleLoadingAnimation","original":{"line":107,"column":9},"generated":{"line":1,"column":1247}},{"source":"liff.js","name":"isLoading","original":{"line":107,"column":34},"generated":{"line":1,"column":1249}},{"source":"liff.js","name":"elLoading","original":{"line":108,"column":10},"generated":{"line":1,"column":1252}},{"source":"liff.js","name":"elLoading","original":{"line":108,"column":10},"generated":{"line":1,"column":1256}},{"source":"liff.js","name":"document","original":{"line":108,"column":22},"generated":{"line":1,"column":1258}},{"source":"liff.js","name":"getElementById","original":{"line":108,"column":31},"generated":{"line":1,"column":1267}},{"source":"liff.js","original":{"line":108,"column":46},"generated":{"line":1,"column":1282}},{"source":"liff.js","name":"isLoading","original":{"line":110,"column":8},"generated":{"line":1,"column":1303}},{"source":"liff.js","name":"elLoading","original":{"line":112,"column":8},"generated":{"line":1,"column":1305}},{"source":"liff.js","name":"classList","original":{"line":112,"column":18},"generated":{"line":1,"column":1307}},{"source":"liff.js","name":"remove","original":{"line":112,"column":28},"generated":{"line":1,"column":1317}},{"source":"liff.js","original":{"line":112,"column":35},"generated":{"line":1,"column":1324}},{"source":"liff.js","name":"elLoading","original":{"line":115,"column":8},"generated":{"line":1,"column":1334}},{"source":"liff.js","name":"classList","original":{"line":115,"column":18},"generated":{"line":1,"column":1336}},{"source":"liff.js","name":"add","original":{"line":115,"column":28},"generated":{"line":1,"column":1346}},{"source":"liff.js","original":{"line":115,"column":32},"generated":{"line":1,"column":1350}},{"source":"liff.js","original":{"line":119,"column":0},"generated":{"line":1,"column":1360}},{"source":"liff.js","name":"uiStatusError","original":{"line":119,"column":9},"generated":{"line":1,"column":1369}},{"source":"liff.js","name":"message","original":{"line":119,"column":23},"generated":{"line":1,"column":1371}},{"source":"liff.js","name":"showLoadingAnimation","original":{"line":119,"column":32},"generated":{"line":1,"column":1373}},{"source":"liff.js","name":"uiToggleLoadingAnimation","original":{"line":120,"column":4},"generated":{"line":1,"column":1376}},{"source":"liff.js","name":"showLoadingAnimation","original":{"line":120,"column":29},"generated":{"line":1,"column":1378}},{"source":"liff.js","name":"elStatus","original":{"line":122,"column":10},"generated":{"line":1,"column":1381}},{"source":"liff.js","name":"elStatus","original":{"line":122,"column":10},"generated":{"line":1,"column":1385}},{"source":"liff.js","name":"document","original":{"line":122,"column":21},"generated":{"line":1,"column":1387}},{"source":"liff.js","name":"getElementById","original":{"line":122,"column":30},"generated":{"line":1,"column":1396}},{"source":"liff.js","original":{"line":122,"column":45},"generated":{"line":1,"column":1411}},{"source":"liff.js","name":"elControls","original":{"line":123,"column":10},"generated":{"line":1,"column":1421}},{"source":"liff.js","name":"document","original":{"line":123,"column":23},"generated":{"line":1,"column":1423}},{"source":"liff.js","name":"getElementById","original":{"line":123,"column":32},"generated":{"line":1,"column":1432}},{"source":"liff.js","original":{"line":123,"column":47},"generated":{"line":1,"column":1447}},{"source":"liff.js","name":"elStatus","original":{"line":126,"column":4},"generated":{"line":1,"column":1459}},{"source":"liff.js","name":"classList","original":{"line":126,"column":13},"generated":{"line":1,"column":1461}},{"source":"liff.js","name":"remove","original":{"line":126,"column":23},"generated":{"line":1,"column":1471}},{"source":"liff.js","original":{"line":126,"column":30},"generated":{"line":1,"column":1478}},{"source":"liff.js","name":"elStatus","original":{"line":127,"column":4},"generated":{"line":1,"column":1489}},{"source":"liff.js","name":"classList","original":{"line":127,"column":13},"generated":{"line":1,"column":1491}},{"source":"liff.js","name":"remove","original":{"line":127,"column":23},"generated":{"line":1,"column":1501}},{"source":"liff.js","original":{"line":127,"column":30},"generated":{"line":1,"column":1508}},{"source":"liff.js","name":"elStatus","original":{"line":128,"column":4},"generated":{"line":1,"column":1520}},{"source":"liff.js","name":"classList","original":{"line":128,"column":13},"generated":{"line":1,"column":1522}},{"source":"liff.js","name":"add","original":{"line":128,"column":23},"generated":{"line":1,"column":1532}},{"source":"liff.js","original":{"line":128,"column":27},"generated":{"line":1,"column":1536}},{"source":"liff.js","name":"elStatus","original":{"line":129,"column":4},"generated":{"line":1,"column":1545}},{"source":"liff.js","name":"innerText","original":{"line":129,"column":13},"generated":{"line":1,"column":1547}},{"source":"liff.js","name":"message","original":{"line":129,"column":25},"generated":{"line":1,"column":1557}},{"source":"liff.js","name":"elControls","original":{"line":132,"column":4},"generated":{"line":1,"column":1559}},{"source":"liff.js","name":"classList","original":{"line":132,"column":15},"generated":{"line":1,"column":1561}},{"source":"liff.js","name":"add","original":{"line":132,"column":25},"generated":{"line":1,"column":1571}},{"source":"liff.js","original":{"line":132,"column":29},"generated":{"line":1,"column":1575}},{"source":"liff.js","original":{"line":135,"column":0},"generated":{"line":1,"column":1585}},{"source":"liff.js","name":"makeErrorMsg","original":{"line":135,"column":9},"generated":{"line":1,"column":1594}},{"source":"liff.js","name":"errorObj","original":{"line":135,"column":22},"generated":{"line":1,"column":1596}},{"source":"liff.js","original":{"line":136,"column":11},"generated":{"line":1,"column":1599}},{"source":"liff.js","original":{"line":136,"column":11},"generated":{"line":1,"column":1605}},{"source":"liff.js","name":"errorObj","original":{"line":136,"column":23},"generated":{"line":1,"column":1615}},{"source":"liff.js","name":"code","original":{"line":136,"column":32},"generated":{"line":1,"column":1617}},{"source":"liff.js","original":{"line":136,"column":39},"generated":{"line":1,"column":1622}},{"source":"liff.js","name":"errorObj","original":{"line":136,"column":46},"generated":{"line":1,"column":1627}},{"source":"liff.js","name":"message","original":{"line":136,"column":55},"generated":{"line":1,"column":1629}},{"source":"liff.js","original":{"line":143,"column":0},"generated":{"line":1,"column":1637}},{"source":"liff.js","name":"initializeApp","original":{"line":143,"column":9},"generated":{"line":1,"column":1646}},{"source":"liff.js","name":"liff","original":{"line":144,"column":4},"generated":{"line":1,"column":1650}},{"source":"liff.js","name":"init","original":{"line":144,"column":9},"generated":{"line":1,"column":1655}},{"source":"liff.js","original":{"line":144,"column":14},"generated":{"line":1,"column":1660}},{"source":"liff.js","name":"initializeLiff","original":{"line":144,"column":20},"generated":{"line":1,"column":1671}},{"source":"liff.js","name":"initializeLiff","original":{"line":144,"column":20},"generated":{"line":1,"column":1678}},{"source":"liff.js","original":{"line":144,"column":38},"generated":{"line":1,"column":1683}},{"source":"liff.js","name":"error","original":{"line":144,"column":38},"generated":{"line":1,"column":1692}},{"source":"liff.js","name":"uiStatusError","original":{"line":144,"column":47},"generated":{"line":1,"column":1695}},{"source":"liff.js","name":"uiStatusError","original":{"line":144,"column":47},"generated":{"line":1,"column":1702}},{"source":"liff.js","name":"makeErrorMsg","original":{"line":144,"column":61},"generated":{"line":1,"column":1704}},{"source":"liff.js","name":"error","original":{"line":144,"column":74},"generated":{"line":1,"column":1706}},{"source":"liff.js","original":{"line":144,"column":82},"generated":{"line":1,"column":1710}},{"source":"liff.js","original":{"line":147,"column":0},"generated":{"line":1,"column":1715}},{"source":"liff.js","name":"initializeLiff","original":{"line":147,"column":9},"generated":{"line":1,"column":1724}},{"source":"liff.js","name":"liff","original":{"line":148,"column":4},"generated":{"line":1,"column":1728}},{"source":"liff.js","name":"initPlugins","original":{"line":148,"column":9},"generated":{"line":1,"column":1733}},{"source":"liff.js","original":{"line":148,"column":21},"generated":{"line":1,"column":1745}},{"source":"liff.js","original":{"line":148,"column":22},"generated":{"line":1,"column":1746}},{"source":"liff.js","name":"then","original":{"line":148,"column":36},"generated":{"line":1,"column":1760}},{"source":"liff.js","original":{"line":148,"column":41},"generated":{"line":1,"column":1765}},{"source":"liff.js","name":"liffCheckAvailablityAndDo","original":{"line":149,"column":8},"generated":{"line":1,"column":1776}},{"source":"liff.js","original":{"line":149,"column":34},"generated":{"line":1,"column":1778}},{"source":"liff.js","name":"liffRequestDevice","original":{"line":149,"column":40},"generated":{"line":1,"column":1789}},{"source":"liff.js","name":"liffRequestDevice","original":{"line":149,"column":40},"generated":{"line":1,"column":1796}},{"source":"liff.js","name":"catch","original":{"line":150,"column":7},"generated":{"line":1,"column":1804}},{"source":"liff.js","original":{"line":150,"column":13},"generated":{"line":1,"column":1810}},{"source":"liff.js","name":"error","original":{"line":150,"column":13},"generated":{"line":1,"column":1819}},{"source":"liff.js","name":"uiStatusError","original":{"line":151,"column":8},"generated":{"line":1,"column":1822}},{"source":"liff.js","name":"makeErrorMsg","original":{"line":151,"column":22},"generated":{"line":1,"column":1824}},{"source":"liff.js","name":"error","original":{"line":151,"column":35},"generated":{"line":1,"column":1826}},{"source":"liff.js","original":{"line":151,"column":43},"generated":{"line":1,"column":1830}},{"source":"liff.js","name":"liff","original":{"line":153,"column":4},"generated":{"line":1,"column":1835}},{"source":"liff.js","name":"getProfile","original":{"line":153,"column":9},"generated":{"line":1,"column":1840}},{"source":"liff.js","name":"then","original":{"line":153,"column":22},"generated":{"line":1,"column":1853}},{"source":"liff.js","original":{"line":153,"column":27},"generated":{"line":1,"column":1858}},{"source":"liff.js","name":"profile","original":{"line":153,"column":27},"generated":{"line":1,"column":1867}},{"source":"liff.js","name":"window","original":{"line":154,"column":8},"generated":{"line":1,"column":1870}},{"source":"liff.js","name":"displayName","original":{"line":154,"column":15},"generated":{"line":1,"column":1877}},{"source":"liff.js","name":"profile","original":{"line":154,"column":29},"generated":{"line":1,"column":1889}},{"source":"liff.js","name":"displayName","original":{"line":154,"column":37},"generated":{"line":1,"column":1891}},{"source":"liff.js","name":"window","original":{"line":155,"column":8},"generated":{"line":1,"column":1903}},{"source":"liff.js","name":"pictureUrl","original":{"line":155,"column":15},"generated":{"line":1,"column":1910}},{"source":"liff.js","name":"profile","original":{"line":155,"column":28},"generated":{"line":1,"column":1921}},{"source":"liff.js","name":"pictureUrl","original":{"line":155,"column":36},"generated":{"line":1,"column":1923}},{"source":"liff.js","name":"document","original":{"line":156,"column":8},"generated":{"line":1,"column":1934}},{"source":"liff.js","name":"getElementById","original":{"line":156,"column":17},"generated":{"line":1,"column":1943}},{"source":"liff.js","original":{"line":156,"column":32},"generated":{"line":1,"column":1958}},{"source":"liff.js","name":"src","original":{"line":156,"column":43},"generated":{"line":1,"column":1969}},{"source":"liff.js","name":"window","original":{"line":156,"column":49},"generated":{"line":1,"column":1973}},{"source":"liff.js","name":"pictureUrl","original":{"line":156,"column":56},"generated":{"line":1,"column":1980}},{"source":"liff.js","name":"document","original":{"line":157,"column":8},"generated":{"line":1,"column":1991}},{"source":"liff.js","name":"getElementById","original":{"line":157,"column":17},"generated":{"line":1,"column":2000}},{"source":"liff.js","original":{"line":157,"column":32},"generated":{"line":1,"column":2015}},{"source":"liff.js","name":"hidden","original":{"line":157,"column":43},"generated":{"line":1,"column":2026}},{"source":"liff.js","original":{"line":157,"column":52},"generated":{"line":1,"column":2034}},{"source":"liff.js","name":"document","original":{"line":158,"column":8},"generated":{"line":1,"column":2036}},{"source":"liff.js","name":"getElementById","original":{"line":158,"column":17},"generated":{"line":1,"column":2045}},{"source":"liff.js","original":{"line":158,"column":32},"generated":{"line":1,"column":2060}},{"source":"liff.js","name":"innerHTML","original":{"line":158,"column":44},"generated":{"line":1,"column":2072}},{"source":"liff.js","name":"window","original":{"line":158,"column":56},"generated":{"line":1,"column":2082}},{"source":"liff.js","name":"displayName","original":{"line":158,"column":63},"generated":{"line":1,"column":2089}},{"source":"liff.js","name":"catch","original":{"line":159,"column":7},"generated":{"line":1,"column":2103}},{"source":"liff.js","original":{"line":159,"column":13},"generated":{"line":1,"column":2109}},{"source":"liff.js","name":"err","original":{"line":159,"column":14},"generated":{"line":1,"column":2118}},{"source":"liff.js","name":"console","original":{"line":160,"column":8},"generated":{"line":1,"column":2121}},{"source":"liff.js","name":"log","original":{"line":160,"column":16},"generated":{"line":1,"column":2129}},{"source":"liff.js","original":{"line":160,"column":20},"generated":{"line":1,"column":2133}},{"source":"liff.js","name":"err","original":{"line":160,"column":29},"generated":{"line":1,"column":2141}},{"source":"liff.js","original":{"line":164,"column":0},"generated":{"line":1,"column":2146}},{"source":"liff.js","name":"liffCheckAvailablityAndDo","original":{"line":164,"column":9},"generated":{"line":1,"column":2155}},{"source":"liff.js","name":"callbackIfAvailable","original":{"line":164,"column":35},"generated":{"line":1,"column":2157}},{"source":"liff.js","name":"liff","original":{"line":166,"column":4},"generated":{"line":1,"column":2160}},{"source":"liff.js","name":"bluetooth","original":{"line":166,"column":9},"generated":{"line":1,"column":2165}},{"source":"liff.js","name":"getAvailability","original":{"line":166,"column":19},"generated":{"line":1,"column":2175}},{"source":"liff.js","name":"then","original":{"line":166,"column":37},"generated":{"line":1,"column":2193}},{"source":"liff.js","original":{"line":166,"column":42},"generated":{"line":1,"column":2198}},{"source":"liff.js","name":"isAvailable","original":{"line":166,"column":42},"generated":{"line":1,"column":2207}},{"source":"liff.js","name":"isAvailable","original":{"line":167,"column":12},"generated":{"line":1,"column":2210}},{"source":"liff.js","name":"uiToggleDeviceConnected","original":{"line":168,"column":12},"generated":{"line":1,"column":2213}},{"source":"liff.js","original":{"line":168,"column":36},"generated":{"line":1,"column":2216}},{"source":"liff.js","name":"callbackIfAvailable","original":{"line":169,"column":12},"generated":{"line":1,"column":2219}},{"source":"liff.js","name":"uiStatusError","original":{"line":171,"column":12},"generated":{"line":1,"column":2225}},{"source":"liff.js","original":{"line":171,"column":26},"generated":{"line":1,"column":2227}},{"source":"liff.js","original":{"line":171,"column":53},"generated":{"line":1,"column":2254}},{"source":"liff.js","name":"setTimeout","original":{"line":172,"column":12},"generated":{"line":1,"column":2257}},{"source":"liff.js","original":{"line":172,"column":23},"generated":{"line":1,"column":2268}},{"source":"liff.js","name":"liffCheckAvailablityAndDo","original":{"line":172,"column":29},"generated":{"line":1,"column":2279}},{"source":"liff.js","name":"liffCheckAvailablityAndDo","original":{"line":172,"column":29},"generated":{"line":1,"column":2286}},{"source":"liff.js","name":"callbackIfAvailable","original":{"line":172,"column":55},"generated":{"line":1,"column":2288}},{"source":"liff.js","original":{"line":172,"column":77},"generated":{"line":1,"column":2292}},{"source":"liff.js","name":"catch","original":{"line":174,"column":7},"generated":{"line":1,"column":2300}},{"source":"liff.js","original":{"line":174,"column":13},"generated":{"line":1,"column":2306}},{"source":"liff.js","name":"error","original":{"line":174,"column":13},"generated":{"line":1,"column":2315}},{"source":"liff.js","name":"uiStatusError","original":{"line":175,"column":8},"generated":{"line":1,"column":2318}},{"source":"liff.js","name":"makeErrorMsg","original":{"line":175,"column":22},"generated":{"line":1,"column":2320}},{"source":"liff.js","name":"error","original":{"line":175,"column":35},"generated":{"line":1,"column":2322}},{"source":"liff.js","original":{"line":175,"column":43},"generated":{"line":1,"column":2326}},{"source":"liff.js","original":{"line":179,"column":0},"generated":{"line":1,"column":2331}},{"source":"liff.js","name":"liffRequestDevice","original":{"line":179,"column":9},"generated":{"line":1,"column":2340}},{"source":"liff.js","name":"liff","original":{"line":180,"column":4},"generated":{"line":1,"column":2344}},{"source":"liff.js","name":"bluetooth","original":{"line":180,"column":9},"generated":{"line":1,"column":2349}},{"source":"liff.js","name":"requestDevice","original":{"line":180,"column":19},"generated":{"line":1,"column":2359}},{"source":"liff.js","name":"then","original":{"line":180,"column":35},"generated":{"line":1,"column":2375}},{"source":"liff.js","original":{"line":180,"column":40},"generated":{"line":1,"column":2380}},{"source":"liff.js","name":"device","original":{"line":180,"column":40},"generated":{"line":1,"column":2389}},{"source":"liff.js","name":"liffConnectToDevice","original":{"line":181,"column":8},"generated":{"line":1,"column":2392}},{"source":"liff.js","name":"device","original":{"line":181,"column":28},"generated":{"line":1,"column":2394}},{"source":"liff.js","name":"catch","original":{"line":182,"column":7},"generated":{"line":1,"column":2399}},{"source":"liff.js","original":{"line":182,"column":13},"generated":{"line":1,"column":2405}},{"source":"liff.js","name":"error","original":{"line":182,"column":13},"generated":{"line":1,"column":2414}},{"source":"liff.js","name":"uiStatusError","original":{"line":183,"column":8},"generated":{"line":1,"column":2417}},{"source":"liff.js","name":"makeErrorMsg","original":{"line":183,"column":22},"generated":{"line":1,"column":2419}},{"source":"liff.js","name":"error","original":{"line":183,"column":35},"generated":{"line":1,"column":2421}},{"source":"liff.js","original":{"line":183,"column":43},"generated":{"line":1,"column":2425}},{"source":"liff.js","original":{"line":187,"column":0},"generated":{"line":1,"column":2430}},{"source":"liff.js","name":"liffConnectToDevice","original":{"line":187,"column":9},"generated":{"line":1,"column":2439}},{"source":"liff.js","name":"device","original":{"line":187,"column":29},"generated":{"line":1,"column":2441}},{"source":"liff.js","name":"device","original":{"line":188,"column":4},"generated":{"line":1,"column":2444}},{"source":"liff.js","name":"gatt","original":{"line":188,"column":11},"generated":{"line":1,"column":2446}},{"source":"liff.js","name":"connect","original":{"line":188,"column":16},"generated":{"line":1,"column":2451}},{"source":"liff.js","name":"then","original":{"line":188,"column":26},"generated":{"line":1,"column":2461}},{"source":"liff.js","original":{"line":188,"column":31},"generated":{"line":1,"column":2466}},{"source":"liff.js","name":"document","original":{"line":189,"column":8},"generated":{"line":1,"column":2477}},{"source":"liff.js","name":"getElementById","original":{"line":189,"column":17},"generated":{"line":1,"column":2486}},{"source":"liff.js","original":{"line":189,"column":32},"generated":{"line":1,"column":2501}},{"source":"liff.js","name":"innerText","original":{"line":189,"column":47},"generated":{"line":1,"column":2516}},{"source":"liff.js","name":"device","original":{"line":189,"column":59},"generated":{"line":1,"column":2526}},{"source":"liff.js","name":"name","original":{"line":189,"column":66},"generated":{"line":1,"column":2528}},{"source":"liff.js","name":"document","original":{"line":190,"column":8},"generated":{"line":1,"column":2533}},{"source":"liff.js","name":"getElementById","original":{"line":190,"column":17},"generated":{"line":1,"column":2542}},{"source":"liff.js","original":{"line":190,"column":32},"generated":{"line":1,"column":2557}},{"source":"liff.js","name":"innerText","original":{"line":190,"column":45},"generated":{"line":1,"column":2570}},{"source":"liff.js","name":"device","original":{"line":190,"column":57},"generated":{"line":1,"column":2580}},{"source":"liff.js","name":"id","original":{"line":190,"column":64},"generated":{"line":1,"column":2582}},{"source":"liff.js","name":"uiToggleDeviceConnected","original":{"line":193,"column":8},"generated":{"line":1,"column":2585}},{"source":"liff.js","original":{"line":193,"column":32},"generated":{"line":1,"column":2588}},{"source":"liff.js","name":"device","original":{"line":196,"column":8},"generated":{"line":1,"column":2591}},{"source":"liff.js","name":"gatt","original":{"line":196,"column":15},"generated":{"line":1,"column":2593}},{"source":"liff.js","name":"getPrimaryService","original":{"line":196,"column":20},"generated":{"line":1,"column":2598}},{"source":"liff.js","name":"USER_SERVICE_UUID","original":{"line":196,"column":38},"generated":{"line":1,"column":2616}},{"source":"liff.js","name":"then","original":{"line":196,"column":57},"generated":{"line":1,"column":2619}},{"source":"liff.js","original":{"line":196,"column":62},"generated":{"line":1,"column":2624}},{"source":"liff.js","name":"service","original":{"line":196,"column":62},"generated":{"line":1,"column":2633}},{"source":"liff.js","name":"liffGetUserService","original":{"line":197,"column":12},"generated":{"line":1,"column":2636}},{"source":"liff.js","name":"service","original":{"line":197,"column":31},"generated":{"line":1,"column":2638}},{"source":"liff.js","name":"catch","original":{"line":198,"column":11},"generated":{"line":1,"column":2643}},{"source":"liff.js","original":{"line":198,"column":17},"generated":{"line":1,"column":2649}},{"source":"liff.js","name":"error","original":{"line":198,"column":17},"generated":{"line":1,"column":2658}},{"source":"liff.js","name":"uiStatusError","original":{"line":199,"column":12},"generated":{"line":1,"column":2661}},{"source":"liff.js","name":"makeErrorMsg","original":{"line":199,"column":26},"generated":{"line":1,"column":2663}},{"source":"liff.js","name":"error","original":{"line":199,"column":39},"generated":{"line":1,"column":2665}},{"source":"liff.js","original":{"line":199,"column":47},"generated":{"line":1,"column":2669}},{"source":"liff.js","name":"device","original":{"line":201,"column":8},"generated":{"line":1,"column":2674}},{"source":"liff.js","name":"gatt","original":{"line":201,"column":15},"generated":{"line":1,"column":2676}},{"source":"liff.js","name":"getPrimaryService","original":{"line":201,"column":20},"generated":{"line":1,"column":2681}},{"source":"liff.js","name":"PSDI_SERVICE_UUID","original":{"line":201,"column":38},"generated":{"line":1,"column":2699}},{"source":"liff.js","name":"then","original":{"line":201,"column":57},"generated":{"line":1,"column":2702}},{"source":"liff.js","original":{"line":201,"column":62},"generated":{"line":1,"column":2707}},{"source":"liff.js","name":"service","original":{"line":201,"column":62},"generated":{"line":1,"column":2716}},{"source":"liff.js","name":"liffGetPSDIService","original":{"line":202,"column":12},"generated":{"line":1,"column":2719}},{"source":"liff.js","name":"service","original":{"line":202,"column":31},"generated":{"line":1,"column":2721}},{"source":"liff.js","name":"catch","original":{"line":203,"column":11},"generated":{"line":1,"column":2726}},{"source":"liff.js","original":{"line":203,"column":17},"generated":{"line":1,"column":2732}},{"source":"liff.js","name":"error","original":{"line":203,"column":17},"generated":{"line":1,"column":2741}},{"source":"liff.js","name":"uiStatusError","original":{"line":204,"column":12},"generated":{"line":1,"column":2744}},{"source":"liff.js","name":"makeErrorMsg","original":{"line":204,"column":26},"generated":{"line":1,"column":2746}},{"source":"liff.js","name":"error","original":{"line":204,"column":39},"generated":{"line":1,"column":2748}},{"source":"liff.js","original":{"line":204,"column":47},"generated":{"line":1,"column":2752}},{"source":"liff.js","name":"device","original":{"line":225,"column":8},"generated":{"line":1,"column":2757}},{"source":"liff.js","name":"addEventListener","original":{"line":225,"column":15},"generated":{"line":1,"column":2759}},{"source":"liff.js","original":{"line":225,"column":32},"generated":{"line":1,"column":2776}},{"source":"liff.js","original":{"line":208,"column":35},"generated":{"line":1,"column":2801}},{"source":"liff.js","name":"disconnectCallback","original":{"line":208,"column":14},"generated":{"line":1,"column":2810}},{"source":"liff.js","name":"uiToggleDeviceConnected","original":{"line":210,"column":12},"generated":{"line":1,"column":2814}},{"source":"liff.js","original":{"line":210,"column":36},"generated":{"line":1,"column":2817}},{"source":"liff.js","name":"device","original":{"line":213,"column":12},"generated":{"line":1,"column":2820}},{"source":"liff.js","name":"removeEventListener","original":{"line":213,"column":19},"generated":{"line":1,"column":2822}},{"source":"liff.js","original":{"line":213,"column":39},"generated":{"line":1,"column":2842}},{"source":"liff.js","name":"disconnectCallback","original":{"line":213,"column":65},"generated":{"line":1,"column":2867}},{"source":"liff.js","name":"ledState","original":{"line":216,"column":12},"generated":{"line":1,"column":2870}},{"source":"liff.js","original":{"line":216,"column":23},"generated":{"line":1,"column":2873}},{"source":"liff.js","name":"uiToggleLedButton","original":{"line":218,"column":12},"generated":{"line":1,"column":2875}},{"source":"liff.js","original":{"line":218,"column":30},"generated":{"line":1,"column":2878}},{"source":"liff.js","name":"uiToggleStateButton","original":{"line":219,"column":12},"generated":{"line":1,"column":2881}},{"source":"liff.js","original":{"line":219,"column":32},"generated":{"line":1,"column":2884}},{"source":"liff.js","name":"initializeLiff","original":{"line":222,"column":12},"generated":{"line":1,"column":2887}},{"source":"liff.js","name":"catch","original":{"line":226,"column":7},"generated":{"line":1,"column":2895}},{"source":"liff.js","original":{"line":226,"column":13},"generated":{"line":1,"column":2901}},{"source":"liff.js","name":"error","original":{"line":226,"column":13},"generated":{"line":1,"column":2910}},{"source":"liff.js","name":"uiStatusError","original":{"line":227,"column":8},"generated":{"line":1,"column":2913}},{"source":"liff.js","name":"makeErrorMsg","original":{"line":227,"column":22},"generated":{"line":1,"column":2915}},{"source":"liff.js","name":"error","original":{"line":227,"column":35},"generated":{"line":1,"column":2917}},{"source":"liff.js","original":{"line":227,"column":43},"generated":{"line":1,"column":2921}},{"source":"liff.js","original":{"line":231,"column":0},"generated":{"line":1,"column":2926}},{"source":"liff.js","name":"liffGetUserService","original":{"line":231,"column":9},"generated":{"line":1,"column":2935}},{"source":"liff.js","name":"service","original":{"line":231,"column":28},"generated":{"line":1,"column":2937}},{"source":"liff.js","name":"service","original":{"line":233,"column":4},"generated":{"line":1,"column":2940}},{"source":"liff.js","name":"getCharacteristic","original":{"line":233,"column":12},"generated":{"line":1,"column":2942}},{"source":"liff.js","name":"BTN_CHARACTERISTIC_UUID","original":{"line":233,"column":30},"generated":{"line":1,"column":2960}},{"source":"liff.js","name":"then","original":{"line":233,"column":55},"generated":{"line":1,"column":2963}},{"source":"liff.js","original":{"line":233,"column":60},"generated":{"line":1,"column":2968}},{"source":"liff.js","name":"characteristic","original":{"line":233,"column":60},"generated":{"line":1,"column":2977}},{"source":"liff.js","name":"liffGetButtonStateCharacteristic","original":{"line":234,"column":8},"generated":{"line":1,"column":2980}},{"source":"liff.js","name":"characteristic","original":{"line":234,"column":41},"generated":{"line":1,"column":2982}},{"source":"liff.js","name":"catch","original":{"line":235,"column":7},"generated":{"line":1,"column":2987}},{"source":"liff.js","original":{"line":235,"column":13},"generated":{"line":1,"column":2993}},{"source":"liff.js","name":"error","original":{"line":235,"column":13},"generated":{"line":1,"column":3002}},{"source":"liff.js","name":"uiStatusError","original":{"line":236,"column":8},"generated":{"line":1,"column":3005}},{"source":"liff.js","name":"makeErrorMsg","original":{"line":236,"column":22},"generated":{"line":1,"column":3007}},{"source":"liff.js","name":"error","original":{"line":236,"column":35},"generated":{"line":1,"column":3009}},{"source":"liff.js","original":{"line":236,"column":43},"generated":{"line":1,"column":3013}},{"source":"liff.js","name":"service","original":{"line":240,"column":4},"generated":{"line":1,"column":3018}},{"source":"liff.js","name":"getCharacteristic","original":{"line":240,"column":12},"generated":{"line":1,"column":3020}},{"source":"liff.js","name":"LED_CHARACTERISTIC_UUID","original":{"line":240,"column":30},"generated":{"line":1,"column":3038}},{"source":"liff.js","name":"then","original":{"line":240,"column":55},"generated":{"line":1,"column":3041}},{"source":"liff.js","original":{"line":240,"column":60},"generated":{"line":1,"column":3046}},{"source":"liff.js","name":"characteristic","original":{"line":240,"column":60},"generated":{"line":1,"column":3055}},{"source":"liff.js","name":"window","original":{"line":241,"column":8},"generated":{"line":1,"column":3058}},{"source":"liff.js","name":"ledCharacteristic","original":{"line":241,"column":15},"generated":{"line":1,"column":3065}},{"source":"liff.js","name":"characteristic","original":{"line":241,"column":35},"generated":{"line":1,"column":3083}},{"source":"liff.js","name":"liffToggleDeviceLedState","original":{"line":244,"column":8},"generated":{"line":1,"column":3085}},{"source":"liff.js","original":{"line":244,"column":33},"generated":{"line":1,"column":3088}},{"source":"liff.js","name":"catch","original":{"line":245,"column":7},"generated":{"line":1,"column":3093}},{"source":"liff.js","original":{"line":245,"column":13},"generated":{"line":1,"column":3099}},{"source":"liff.js","name":"error","original":{"line":245,"column":13},"generated":{"line":1,"column":3108}},{"source":"liff.js","name":"uiStatusError","original":{"line":246,"column":8},"generated":{"line":1,"column":3111}},{"source":"liff.js","name":"makeErrorMsg","original":{"line":246,"column":22},"generated":{"line":1,"column":3113}},{"source":"liff.js","name":"error","original":{"line":246,"column":35},"generated":{"line":1,"column":3115}},{"source":"liff.js","original":{"line":246,"column":43},"generated":{"line":1,"column":3119}},{"source":"liff.js","original":{"line":250,"column":0},"generated":{"line":1,"column":3124}},{"source":"liff.js","name":"liffGetPSDIService","original":{"line":250,"column":9},"generated":{"line":1,"column":3133}},{"source":"liff.js","name":"service","original":{"line":250,"column":28},"generated":{"line":1,"column":3135}},{"source":"liff.js","name":"service","original":{"line":252,"column":4},"generated":{"line":1,"column":3138}},{"source":"liff.js","name":"getCharacteristic","original":{"line":252,"column":12},"generated":{"line":1,"column":3140}},{"source":"liff.js","name":"PSDI_CHARACTERISTIC_UUID","original":{"line":252,"column":30},"generated":{"line":1,"column":3158}},{"source":"liff.js","name":"then","original":{"line":252,"column":56},"generated":{"line":1,"column":3161}},{"source":"liff.js","original":{"line":252,"column":61},"generated":{"line":1,"column":3166}},{"source":"liff.js","name":"characteristic","original":{"line":252,"column":61},"generated":{"line":1,"column":3175}},{"source":"liff.js","name":"characteristic","original":{"line":253,"column":15},"generated":{"line":1,"column":3178}},{"source":"liff.js","name":"characteristic","original":{"line":253,"column":15},"generated":{"line":1,"column":3185}},{"source":"liff.js","name":"readValue","original":{"line":253,"column":30},"generated":{"line":1,"column":3187}},{"source":"liff.js","name":"then","original":{"line":254,"column":7},"generated":{"line":1,"column":3201}},{"source":"liff.js","original":{"line":254,"column":12},"generated":{"line":1,"column":3206}},{"source":"liff.js","name":"value","original":{"line":254,"column":12},"generated":{"line":1,"column":3215}},{"source":"liff.js","name":"psdi","original":{"line":256,"column":14},"generated":{"line":1,"column":3218}},{"source":"liff.js","name":"psdi","original":{"line":256,"column":14},"generated":{"line":1,"column":3222}},{"source":"liff.js","original":{"line":256,"column":21},"generated":{"line":1,"column":3224}},{"source":"liff.js","name":"Uint8Array","original":{"line":256,"column":25},"generated":{"line":1,"column":3228}},{"source":"liff.js","name":"value","original":{"line":256,"column":36},"generated":{"line":1,"column":3239}},{"source":"liff.js","name":"buffer","original":{"line":256,"column":42},"generated":{"line":1,"column":3241}},{"source":"liff.js","name":"reduce","original":{"line":257,"column":13},"generated":{"line":1,"column":3249}},{"source":"liff.js","original":{"line":257,"column":20},"generated":{"line":1,"column":3256}},{"source":"liff.js","name":"output","original":{"line":257,"column":21},"generated":{"line":1,"column":3265}},{"source":"liff.js","name":"byte","original":{"line":257,"column":29},"generated":{"line":1,"column":3267}},{"source":"liff.js","name":"output","original":{"line":257,"column":38},"generated":{"line":1,"column":3270}},{"source":"liff.js","name":"output","original":{"line":257,"column":38},"generated":{"line":1,"column":3277}},{"source":"liff.js","original":{"line":257,"column":48},"generated":{"line":1,"column":3280}},{"source":"liff.js","name":"byte","original":{"line":257,"column":54},"generated":{"line":1,"column":3284}},{"source":"liff.js","name":"toString","original":{"line":257,"column":59},"generated":{"line":1,"column":3286}},{"source":"liff.js","original":{"line":257,"column":68},"generated":{"line":1,"column":3295}},{"source":"liff.js","name":"slice","original":{"line":257,"column":73},"generated":{"line":1,"column":3300}},{"source":"liff.js","original":{"line":257,"column":80},"generated":{"line":1,"column":3307}},{"source":"liff.js","original":{"line":257,"column":84},"generated":{"line":1,"column":3311}},{"source":"liff.js","name":"document","original":{"line":258,"column":8},"generated":{"line":1,"column":3315}},{"source":"liff.js","name":"getElementById","original":{"line":258,"column":17},"generated":{"line":1,"column":3324}},{"source":"liff.js","original":{"line":258,"column":32},"generated":{"line":1,"column":3339}},{"source":"liff.js","name":"innerText","original":{"line":258,"column":47},"generated":{"line":1,"column":3354}},{"source":"liff.js","name":"psdi","original":{"line":258,"column":59},"generated":{"line":1,"column":3364}},{"source":"liff.js","name":"catch","original":{"line":259,"column":7},"generated":{"line":1,"column":3368}},{"source":"liff.js","original":{"line":259,"column":13},"generated":{"line":1,"column":3374}},{"source":"liff.js","name":"error","original":{"line":259,"column":13},"generated":{"line":1,"column":3383}},{"source":"liff.js","name":"uiStatusError","original":{"line":260,"column":8},"generated":{"line":1,"column":3386}},{"source":"liff.js","name":"makeErrorMsg","original":{"line":260,"column":22},"generated":{"line":1,"column":3388}},{"source":"liff.js","name":"error","original":{"line":260,"column":35},"generated":{"line":1,"column":3390}},{"source":"liff.js","original":{"line":260,"column":43},"generated":{"line":1,"column":3394}},{"source":"liff.js","original":{"line":264,"column":0},"generated":{"line":1,"column":3399}},{"source":"liff.js","name":"liffGetButtonStateCharacteristic","original":{"line":264,"column":9},"generated":{"line":1,"column":3408}},{"source":"liff.js","name":"characteristic","original":{"line":264,"column":42},"generated":{"line":1,"column":3410}},{"source":"liff.js","name":"characteristic","original":{"line":267,"column":4},"generated":{"line":1,"column":3413}},{"source":"liff.js","name":"startNotifications","original":{"line":267,"column":19},"generated":{"line":1,"column":3415}},{"source":"liff.js","name":"then","original":{"line":267,"column":40},"generated":{"line":1,"column":3436}},{"source":"liff.js","original":{"line":267,"column":45},"generated":{"line":1,"column":3441}},{"source":"liff.js","name":"characteristic","original":{"line":268,"column":8},"generated":{"line":1,"column":3452}},{"source":"liff.js","name":"addEventListener","original":{"line":268,"column":23},"generated":{"line":1,"column":3454}},{"source":"liff.js","original":{"line":268,"column":40},"generated":{"line":1,"column":3471}},{"source":"liff.js","original":{"line":268,"column":70},"generated":{"line":1,"column":3500}},{"source":"liff.js","name":"e","original":{"line":268,"column":70},"generated":{"line":1,"column":3509}},{"source":"liff.js","original":{"line":269,"column":25},"generated":{"line":1,"column":3512}},{"source":"liff.js","name":"Uint8Array","original":{"line":269,"column":29},"generated":{"line":1,"column":3516}},{"source":"liff.js","name":"e","original":{"line":269,"column":40},"generated":{"line":1,"column":3527}},{"source":"liff.js","name":"target","original":{"line":269,"column":42},"generated":{"line":1,"column":3529}},{"source":"liff.js","name":"value","original":{"line":269,"column":49},"generated":{"line":1,"column":3536}},{"source":"liff.js","name":"buffer","original":{"line":269,"column":55},"generated":{"line":1,"column":3542}},{"source":"liff.js","original":{"line":269,"column":64},"generated":{"line":1,"column":3550}},{"source":"liff.js","original":{"line":270,"column":22},"generated":{"line":1,"column":3553}},{"source":"liff.js","name":"uiToggleStateButton","original":{"line":272,"column":16},"generated":{"line":1,"column":3555}},{"source":"liff.js","original":{"line":272,"column":36},"generated":{"line":1,"column":3558}},{"source":"liff.js","name":"uiToggleStateButton","original":{"line":275,"column":16},"generated":{"line":1,"column":3562}},{"source":"liff.js","original":{"line":275,"column":36},"generated":{"line":1,"column":3565}},{"source":"liff.js","name":"uiCountPressButton","original":{"line":276,"column":16},"generated":{"line":1,"column":3568}},{"source":"liff.js","name":"catch","original":{"line":279,"column":7},"generated":{"line":1,"column":3577}},{"source":"liff.js","original":{"line":279,"column":13},"generated":{"line":1,"column":3583}},{"source":"liff.js","name":"error","original":{"line":279,"column":13},"generated":{"line":1,"column":3592}},{"source":"liff.js","name":"uiStatusError","original":{"line":280,"column":8},"generated":{"line":1,"column":3595}},{"source":"liff.js","name":"makeErrorMsg","original":{"line":280,"column":22},"generated":{"line":1,"column":3597}},{"source":"liff.js","name":"error","original":{"line":280,"column":35},"generated":{"line":1,"column":3599}},{"source":"liff.js","original":{"line":280,"column":43},"generated":{"line":1,"column":3603}},{"source":"liff.js","original":{"line":284,"column":0},"generated":{"line":1,"column":3608}},{"source":"liff.js","name":"liffToggleDeviceLedState","original":{"line":284,"column":9},"generated":{"line":1,"column":3617}},{"source":"liff.js","name":"state","original":{"line":284,"column":34},"generated":{"line":1,"column":3619}},{"source":"liff.js","name":"window","original":{"line":287,"column":4},"generated":{"line":1,"column":3622}},{"source":"liff.js","name":"ledCharacteristic","original":{"line":287,"column":11},"generated":{"line":1,"column":3629}},{"source":"liff.js","name":"writeValue","original":{"line":287,"column":29},"generated":{"line":1,"column":3647}},{"source":"liff.js","name":"state","original":{"line":288,"column":8},"generated":{"line":1,"column":3658}},{"source":"liff.js","original":{"line":288,"column":16},"generated":{"line":1,"column":3660}},{"source":"liff.js","name":"Uint8Array","original":{"line":288,"column":20},"generated":{"line":1,"column":3664}},{"source":"liff.js","original":{"line":288,"column":31},"generated":{"line":1,"column":3675}},{"source":"liff.js","original":{"line":288,"column":32},"generated":{"line":1,"column":3676}},{"source":"liff.js","original":{"line":288,"column":41},"generated":{"line":1,"column":3680}},{"source":"liff.js","name":"Uint8Array","original":{"line":288,"column":45},"generated":{"line":1,"column":3684}},{"source":"liff.js","original":{"line":288,"column":56},"generated":{"line":1,"column":3695}},{"source":"liff.js","original":{"line":288,"column":57},"generated":{"line":1,"column":3696}},{"source":"liff.js","name":"catch","original":{"line":289,"column":6},"generated":{"line":1,"column":3701}},{"source":"liff.js","original":{"line":289,"column":12},"generated":{"line":1,"column":3707}},{"source":"liff.js","name":"error","original":{"line":289,"column":12},"generated":{"line":1,"column":3716}},{"source":"liff.js","name":"uiStatusError","original":{"line":290,"column":8},"generated":{"line":1,"column":3719}},{"source":"liff.js","name":"makeErrorMsg","original":{"line":290,"column":22},"generated":{"line":1,"column":3721}},{"source":"liff.js","name":"error","original":{"line":290,"column":35},"generated":{"line":1,"column":3723}},{"source":"liff.js","original":{"line":290,"column":43},"generated":{"line":1,"column":3727}},{"source":"liff.js","name":"window","original":{"line":20,"column":0},"generated":{"line":1,"column":3732}},{"source":"liff.js","name":"onload","original":{"line":20,"column":7},"generated":{"line":1,"column":3739}},{"source":"liff.js","original":{"line":20,"column":16},"generated":{"line":1,"column":3746}},{"source":"liff.js","name":"initializeApp","original":{"line":21,"column":4},"generated":{"line":1,"column":3757}},{"source":"liff.js","name":"window","original":{"line":22,"column":4},"generated":{"line":1,"column":3761}},{"source":"liff.js","name":"displayName","original":{"line":22,"column":11},"generated":{"line":1,"column":3768}},{"source":"liff.js","original":{"line":22,"column":25},"generated":{"line":1,"column":3780}},{"source":"liff.js","name":"window","original":{"line":23,"column":4},"generated":{"line":1,"column":3783}},{"source":"liff.js","name":"pictureUrl","original":{"line":23,"column":11},"generated":{"line":1,"column":3790}},{"source":"liff.js","original":{"line":23,"column":24},"generated":{"line":1,"column":3801}}],"sources":{"liff.js":"// User service UUID: Change this to your generated service UUID\nconst USER_SERVICE_UUID         = process.env.USER_SERVICE_UUID; // LED, Button\n// User service characteristics\nconst LED_CHARACTERISTIC_UUID   = 'E9062E71-9E62-4BC6-B0D3-35CDCD9B027B';\nconst BTN_CHARACTERISTIC_UUID   = '62FBD229-6EDD-4D1A-B554-5C4E1BB29169';\n\n// PSDI Service UUID: Fixed value for Developer Trial\nconst PSDI_SERVICE_UUID         = 'E625601E-9E55-4597-A598-76018A0D293D'; // Device ID\nconst PSDI_CHARACTERISTIC_UUID  = '26E2B12B-85F0-4F3F-9FDD-91D114270E6E';\n\n// UI settings\nlet ledState = false; // true: LED on, false: LED off\nlet clickCount = 0;\n\n// -------------- //\n// On window load //\n// -------------- //\n// document.getElementById(\"btn-led-toggle\").addEventListener(\"click\",handlerToggleLed);\n\nwindow.onload = () => {\n    initializeApp();\n    window.displayName = ''\n    window.pictureUrl = ''\n};\n\n// ----------------- //\n// Handler functions //\n// ----------------- //\nfunction handlerToggleLed() {\n    ledState = !ledState;\n\n    uiToggleLedButton(ledState);\n    liffToggleDeviceLedState(ledState);\n    axios.post(process.env.UNLOCK_API, {\n          userName: window.displayName,\n          userPic: window.pictureUrl\n        }).then(function (response) {\n          console.log(response);\n        }).catch(function (error) {\n          console.log(error);\n        });\n}\n\n// ------------ //\n// UI functions //\n// ------------ //\n\nfunction uiToggleLedButton(state) {\n    const el = document.getElementById(\"btn-led-toggle\");\n    el.innerText = state ? \"開鎖\" : \"鎖門\";\n\n    if (state) {\n      el.classList.add(\"led-on\");\n    } else {\n      el.classList.remove(\"led-on\");\n    }\n}\n\nfunction uiCountPressButton() {\n    clickCount++;\n\n    const el = document.getElementById(\"click-count\");\n    el.innerText = clickCount;\n}\n\nfunction uiToggleStateButton(pressed) {\n    const el = document.getElementById(\"btn-state\");\n\n    if (pressed) {\n        el.classList.add(\"pressed\");\n        el.innerText = \"Pressed\";\n    } else {\n        el.classList.remove(\"pressed\");\n        el.innerText = \"Released\";\n    }\n}\n\nfunction uiToggleDeviceConnected(connected) {\n    const elStatus = document.getElementById(\"status\");\n    const elControls = document.getElementById(\"controls\");\n\n    elStatus.classList.remove(\"error\");\n\n    if (connected) {\n        // Hide loading animation\n        uiToggleLoadingAnimation(false);\n        const btn_led = document.getElementById(\"btn-led-toggle\")\n        btn_led.addEventListener(\"click\", handlerToggleLed )\n        // Show status connected\n        elStatus.classList.remove(\"inactive\");\n        elStatus.classList.add(\"success\");\n        elStatus.innerText = \"Device connected\";\n        // Show controls\n        elControls.classList.remove(\"hidden\");\n    } else {\n        // Show loading animation\n        uiToggleLoadingAnimation(true);\n        // Show status disconnected\n        elStatus.classList.remove(\"success\");\n        elStatus.classList.add(\"inactive\");\n        elStatus.innerText = \"Device disconnected\";\n        // Hide controls\n        elControls.classList.add(\"hidden\");\n    }\n}\n\nfunction uiToggleLoadingAnimation(isLoading) {\n    const elLoading = document.getElementById(\"loading-animation\");\n\n    if (isLoading) {\n        // Show loading animation\n        elLoading.classList.remove(\"hidden\");\n    } else {\n        // Hide loading animation\n        elLoading.classList.add(\"hidden\");\n    }\n}\n\nfunction uiStatusError(message, showLoadingAnimation) {\n    uiToggleLoadingAnimation(showLoadingAnimation);\n\n    const elStatus = document.getElementById(\"status\");\n    const elControls = document.getElementById(\"controls\");\n\n    // Show status error\n    elStatus.classList.remove(\"success\");\n    elStatus.classList.remove(\"inactive\");\n    elStatus.classList.add(\"error\");\n    elStatus.innerText = message;\n\n    // Hide controls\n    elControls.classList.add(\"hidden\");\n}\n\nfunction makeErrorMsg(errorObj) {\n    return \"Error\\n\" + errorObj.code + \"\\n\" + errorObj.message;\n}\n\n// -------------- //\n// LIFF functions //\n// -------------- //\n\nfunction initializeApp() {\n    liff.init(() => initializeLiff(), error => uiStatusError(makeErrorMsg(error), false));\n}\n\nfunction initializeLiff() {\n    liff.initPlugins(['bluetooth']).then(() => {\n        liffCheckAvailablityAndDo(() => liffRequestDevice());\n    }).catch(error => {\n        uiStatusError(makeErrorMsg(error), false);\n    });\n    liff.getProfile().then(profile => {\n        window.displayName = profile.displayName\n        window.pictureUrl = profile.pictureUrl\n        document.getElementById(\"userPic\").src = window.pictureUrl;\n        document.getElementById(\"userPic\").hidden = false;\n        document.getElementById(\"userName\").innerHTML = window.displayName;\n    }).catch((err) => {\n        console.log('error', err);\n    });\n}\n\nfunction liffCheckAvailablityAndDo(callbackIfAvailable) {\n    // Check Bluetooth availability\n    liff.bluetooth.getAvailability().then(isAvailable => {\n        if (isAvailable) {\n            uiToggleDeviceConnected(false);\n            callbackIfAvailable();\n        } else {\n            uiStatusError(\"Bluetooth not available\", true);\n            setTimeout(() => liffCheckAvailablityAndDo(callbackIfAvailable), 10000);\n        }\n    }).catch(error => {\n        uiStatusError(makeErrorMsg(error), false);\n    });;\n}\n\nfunction liffRequestDevice() {\n    liff.bluetooth.requestDevice().then(device => {\n        liffConnectToDevice(device);\n    }).catch(error => {\n        uiStatusError(makeErrorMsg(error), false);\n    });\n}\n\nfunction liffConnectToDevice(device) {\n    device.gatt.connect().then(() => {\n        document.getElementById(\"device-name\").innerText = device.name;\n        document.getElementById(\"device-id\").innerText = device.id;\n\n        // Show status connected\n        uiToggleDeviceConnected(true);\n\n        // Get service\n        device.gatt.getPrimaryService(USER_SERVICE_UUID).then(service => {\n            liffGetUserService(service);\n        }).catch(error => {\n            uiStatusError(makeErrorMsg(error), false);\n        });\n        device.gatt.getPrimaryService(PSDI_SERVICE_UUID).then(service => {\n            liffGetPSDIService(service);\n        }).catch(error => {\n            uiStatusError(makeErrorMsg(error), false);\n        });\n\n        // Device disconnect callback\n        const disconnectCallback = () => {\n            // Show status disconnected\n            uiToggleDeviceConnected(false);\n\n            // Remove disconnect callback\n            device.removeEventListener('gattserverdisconnected', disconnectCallback);\n\n            // Reset LED state\n            ledState = false;\n            // Reset UI elements\n            uiToggleLedButton(false);\n            uiToggleStateButton(false);\n\n            // Try to reconnect\n            initializeLiff();\n        };\n\n        device.addEventListener('gattserverdisconnected', disconnectCallback);\n    }).catch(error => {\n        uiStatusError(makeErrorMsg(error), false);\n    });\n}\n\nfunction liffGetUserService(service) {\n    // Button pressed state\n    service.getCharacteristic(BTN_CHARACTERISTIC_UUID).then(characteristic => {\n        liffGetButtonStateCharacteristic(characteristic);\n    }).catch(error => {\n        uiStatusError(makeErrorMsg(error), false);\n    });\n\n    // Toggle LED\n    service.getCharacteristic(LED_CHARACTERISTIC_UUID).then(characteristic => {\n        window.ledCharacteristic = characteristic;\n\n        // Switch off by default\n        liffToggleDeviceLedState(false);\n    }).catch(error => {\n        uiStatusError(makeErrorMsg(error), false);\n    });\n}\n\nfunction liffGetPSDIService(service) {\n    // Get PSDI value\n    service.getCharacteristic(PSDI_CHARACTERISTIC_UUID).then(characteristic => {\n        return characteristic.readValue();\n    }).then(value => {\n        // Byte array to hex string\n        const psdi = new Uint8Array(value.buffer)\n            .reduce((output, byte) => output + (\"0\" + byte.toString(16)).slice(-2), \"\");\n        document.getElementById(\"device-psdi\").innerText = psdi;\n    }).catch(error => {\n        uiStatusError(makeErrorMsg(error), false);\n    });\n}\n\nfunction liffGetButtonStateCharacteristic(characteristic) {\n    // Add notification hook for button state\n    // (Get notified when button state changes)\n    characteristic.startNotifications().then(() => {\n        characteristic.addEventListener('characteristicvaluechanged', e => {\n            const val = (new Uint8Array(e.target.value.buffer))[0];\n            if (val > 0) {\n                // press\n                uiToggleStateButton(true);\n            } else {\n                // release\n                uiToggleStateButton(false);\n                uiCountPressButton();\n            }\n        });\n    }).catch(error => {\n        uiStatusError(makeErrorMsg(error), false);\n    });\n}\n\nfunction liffToggleDeviceLedState(state) {\n    // on: 0x01\n    // off: 0x00\n    window.ledCharacteristic.writeValue(\n        state ? new Uint8Array([0x01]) : new Uint8Array([0x00])\n    ).catch(error => {\n        uiStatusError(makeErrorMsg(error), false);\n    });\n}\n"},"lineCount":null}},"error":null,"hash":"ebb8d11f1aa1a839a3f1d0b1d992f396","cacheData":{"env":{"USER_SERVICE_UUID":"24301225-cb6e-4b8d-8d39-5aec95acb104","UNLOCK_API":"https://9bc76de2.ngrok.io/unlock"}}}